CXX = @CXX@

OBJECTS = generalplugin.so \
        microsoft.com.so \
        steampowered.com.so \
        riotgames.com.so \
        nvidia.com.so \
        dota2.com.so

all: plugins cteste copiar

plugins: $(OBJECTS)

%.so: %.cpp  ../utils.cpp ../utils.h
        $(CXX) -I. -fPIC -shared -O2 -o $@ $<

cteste: teste.c ../utils.cpp ../utils.h
        $(CXX) -I. -ldl -rdynamic -O2 -o teste $<

copiar:
        cp microsoft.com.so  windowsupdate.com.so
        cp steampowered.com.so steamcontent.com.so

clean:
        rm -f *.so
